#!/bin/bash

# Sports Prediction App - API Key Setup Script
# This script helps you set up your API keys quickly

echo "ðŸˆ Line Pointer - API Key Setup"
echo "================================"
echo ""

# Check if .env.local exists
if [ -f .env.local ]; then
    echo "âš ï¸  .env.local already exists!"
    read -p "Do you want to overwrite it? (y/n) " -n 1 -r
    echo
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        echo "Setup cancelled. Edit .env.local manually."
        exit 1
    fi
fi

echo "Creating .env.local file..."
echo ""

# Create .env.local with template
cat > .env.local << 'EOF'
# Sports Prediction App - API Keys
# Generated by setup-apis.sh

# ============================================
# CRITICAL APIs (Set these first!)
# ============================================

# The Odds API - Real-time odds and line movements
# Sign up: https://the-odds-api.com/ (2 minutes)
# Free tier: 500 requests/month
NEXT_PUBLIC_ODDS_API_KEY=

# OpenWeatherMap API - Weather impact analysis
# Sign up: https://openweathermap.org/api (2 minutes)
# Free tier: 1,000 calls/day
NEXT_PUBLIC_OPENWEATHER_API_KEY=

# ============================================
# OPTIONAL APIs (Add later)
# ============================================

# SportsData.io - Injury reports
NEXT_PUBLIC_SPORTSDATA_API_KEY=

# College Football Data API - NCAAF stats
NEXT_PUBLIC_CFB_API_KEY=

# ============================================
# APP SETTINGS
# ============================================

# Use mock data until you have API keys
NEXT_PUBLIC_USE_MOCK_DATA=true

# Debug mode
NEXT_PUBLIC_DEBUG_MODE=false
EOF

echo "âœ… .env.local file created!"
echo ""
echo "ðŸ“‹ Next Steps:"
echo ""
echo "1ï¸âƒ£  Get The Odds API Key:"
echo "   â†’ Open: https://the-odds-api.com/"
echo "   â†’ Click 'Get API Key'"
echo "   â†’ Sign up (takes 2 minutes)"
echo "   â†’ Copy your API key"
echo ""
echo "2ï¸âƒ£  Get OpenWeatherMap API Key:"
echo "   â†’ Open: https://openweathermap.org/api"
echo "   â†’ Click 'Sign Up'"
echo "   â†’ Verify email"
echo "   â†’ Go to 'API Keys' section"
echo "   â†’ Copy default API key"
echo ""
echo "3ï¸âƒ£  Add keys to .env.local:"
echo "   â†’ Open .env.local in your editor"
echo "   â†’ Paste keys after the = signs"
echo "   â†’ Set NEXT_PUBLIC_USE_MOCK_DATA=false"
echo "   â†’ Save file"
echo ""
echo "4ï¸âƒ£  Restart dev server:"
echo "   â†’ Stop current server (Ctrl+C)"
echo "   â†’ Run: npm run dev"
echo ""
echo "ðŸ“– Need help? See: API_SETUP_GUIDE.md"
echo ""
echo "ðŸš€ Ready to test? Run: npm run test:features"
echo ""

